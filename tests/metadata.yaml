schemaVersion: 2.0.0

commandTests:
    - name: "uid"
      command: "id"
      args: ["-u", "cardboardci"]
      expectedOutput: ["180000"]
    - name: "gid"
      command: "id"
      args: ["-g", "cardboardci"]
      expectedOutput: ["180000"]

metadataTest:
    env:
        - key: CARDBOARDCI_WORKSPACE
          value: /workspace
    labels:
        - key: "maintainer"
          value: "CardboardCI"
        - key: "org.opencontainers.image.vendor"
          value: "cardboardci"
        - key: "org.opencontainers.image.architecture"
          value: "amd64"
        - key: "org.opencontainers.image.source"
          value: "https://github.com/cardboardci/dockerfiles/.*"
          isRegex: true
        - key: "org.opencontainers.image.url"
          value: "https://github.com/cardboardci/dockerfiles/.*"
          isRegex: true
        - key: "org.opencontainers.image.documentation"
          value: "https://cardboardci.jrbeverly.me"
          isRegex: true
        - key: "org.opencontainers.image.title"
          value: ".*"
          isRegex: true
        - key: "org.opencontainers.image.release"
          value: ".*"
          isRegex: true
        - key: "org.opencontainers.image.summary"
          value: ".*"
          isRegex: true
        - key: "org.opencontainers.image.description"
          value: ".*"
          isRegex: true
    exposedPorts: []
    volumes: ["/workspace"]
    cmd: ["/bin/bash"]
    workdir: "/workspace"
