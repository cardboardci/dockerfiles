# --- Do Not Edit ---
#
# This dockerfile is generated by a bazel rule
#
FROM cardboardci/base@sha256:2a0ca344b220f3e922bcca6136f585697573b74bb6f69115a5b152dbfe68bad2

USER root

ARG DEBIAN_FRONTEND=noninteractive

COPY rootfs/ /
RUN chmod +x /usr/local/bin/* || true

COPY provision/pkglist /cardboardci/pkglist
RUN apt-get update && xargs -a /cardboardci/pkglist apt-get install -y && apt-get clean && rm -rf /var/lib/apt/lists/*

USER cardboardci

##
## Image Metadata
##
ARG vcs_ref
LABEL \
    maintainer="CardboardCI" \
    org.label-schema.schema-version="1.0" \
    org.label-schema.name="tflint" \
    org.label-schema.release="CardboardCI version:0.0.0" \
    org.label-schema.vendor="cardboardci" \
    org.label-schema.architecture="amd64" \
    org.label-schema.summary="Terraform linter" \
    org.label-schema.description=" TFLint is a Terraform linter for detecting errors that can not be detected by terraform plan" \
    org.label-schema.url="https://github.com/cardboardci/dockerfiles" \
    org.label-schema.changelog-url="https://github.com/cardboardci/dockerfiles" \
    org.label-schema.authoritative-source-url="https://github.com/cardboardci/dockerfiles" \
    org.label-schema.distribution-scope="public" \
    org.label-schema.vcs-type="git" \
    org.label-schema.vcs-url="https://github.com/cardboardci/dockerfiles" \
    org.label-schema.vcs-ref="${vcs_ref}"