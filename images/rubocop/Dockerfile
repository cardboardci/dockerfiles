# --- Do Not Edit ---
#
# This dockerfile is generated by a bazel rule
#
FROM ghcr.io/cardboardci/base@sha256:5d7351ea2789b130c4bee518731b51bd7c83bd03bc93d5818d6750835a842a94

USER root

ARG DEBIAN_FRONTEND=noninteractive

COPY rootfs/ /
RUN chmod +x /usr/local/bin/* || true

COPY provision/pkglist /cardboardci/pkglist
RUN apt-get update && xargs -a /cardboardci/pkglist apt-get install -y && apt-get clean && rm -rf /var/lib/apt/lists/*

COPY provision/gemlist /cardboardci/gemlist
RUN xargs -a /cardboardci/gemlist gem install

USER cardboardci

##
## Image Metadata
##
ARG vcs_ref
LABEL \
    maintainer="CardboardCI" \
    org.opencontainers.image.title="rubocop" \
    org.opencontainers.image.release="CardboardCI version:0.0.0" \
    org.opencontainers.image.vendor="cardboardci" \
    org.opencontainers.image.architecture="amd64" \
    org.opencontainers.image.summary="Ruby static code analyzer" \
    org.opencontainers.image.description=" A Ruby static code analyzer and formatter, based on the community Ruby style guide" \
    org.opencontainers.image.url="https://github.com/cardboardci/dockerfiles" \
    org.opencontainers.image.changelog-url="https://github.com/cardboardci/dockerfiles" \
    org.opencontainers.image.authoritative-source-url="https://github.com/cardboardci/dockerfiles" \
    org.opencontainers.image.distribution-scope="public" \
    org.opencontainers.image.vcs-type="git" \
    org.opencontainers.image.source="https://github.com/cardboardci/dockerfiles/images/rubocop" \
    org.opencontainers.image.revision="${vcs_ref}"